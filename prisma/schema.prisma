generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Patient {
  id                String    @id @default(cuid())
  name              String
  phoneNumber       String
  medicationName    String
  dosageSchedule    String
  lastCallTime      DateTime?
  nextCallTime      DateTime?
  adherenceScore    Float     @default(0)
  calls             Call[]
  createdAt         DateTime  @default(now())
  updatedAt         DateTime  @updatedAt
}

model Call {
  id           String    @id @default(cuid())
  patientId    String
  patient      Patient   @relation(fields: [patientId], references: [id])
  status       String    @default("pending") // pending, completed, failed
  duration     Int?      @default(0)
  recordingUrl String?
  notes        String?
  createdAt    DateTime  @default(now())
  updatedAt    DateTime  @updatedAt
}